# Вебинар 36. Подготовка к выпуску (Release)

1. Стратегии версионирования (Semantic Versioning, Timestamp).
2. Версия приложения Android: `versionCode` и `versionName`.
3. Уровни Android SDK (`compileSdk`, `targetSdk`, `minSdk`).
4. Подпись приложения и безопасность ключей.
5. Оптимизация и минификация кода с помощью R8.

## Вопросы для самопроверки:

1. В чем заключается основное техническое требование Google Play к `versionCode` при обновлении приложения, и чем он отличается от `versionName`?
   [] `versionCode` — это целое положительное число, которое должно строго увеличиваться с каждым новым обновлением для управления версиями в магазине. 
      `versionName` — это строка для отображения пользователям, формат которой определяет разработчик (например, 1.0.0).
   [] `versionCode` и `versionName` — это идентичные строковые параметры. Оба должны меняться при каждом релизе, чтобы пользователь видел изменения.
   [] `versionCode` — это дата сборки, которая генерируется автоматически. `versionName` — это внутренний идентификатор для Google Play, который никогда 
      не должен меняться.

2. За что отвечает параметр `targetSdkVersion` в конфигурации сборки?
   [] Это версия Android SDK, которая используется компилятором для сборки проекта. Она определяет, какие классы и методы доступны разработчику при написании кода.
   [] Это декларация того, что приложение протестировано на указанной версии Android. Система использует этот параметр для включения или отключения режимов 
      обратной совместимости (игра по правилам конкретной версии ОС).
   [] Это минимальная версия Android, на которую может быть установлено приложение. Если версия ОС на устройстве ниже этого значения, установка будет невозможна.

3. Какие основные задачи выполняет инструмент R8 при сборке Release-версии приложения?
   [] R8 занимается только подписью приложения криптографическим ключом и генерацией `versionCode` на основе истории Git.
   [] R8 используется для компиляции ресурсов (картинок и layout-файлов) в бинарный формат для ускорения загрузки, но не трогает исходный код классов.
   [] R8 выполняет минимизацию (удаление неиспользуемого кода и ресурсов), обфускацию (переименование классов и методов для защиты и уменьшения размера) 
      и оптимизацию (улучшение производительности кода).

4. Почему код, использующий Reflection (динамический вызов классов/методов по имени), может падать с ошибкой в Release-сборке после обработки R8, 
   и как это исправить?
   [] Reflection запрещен в Android на уровне системы безопасности в релизных сборках. Исправить это нельзя, нужно переписывать код без Reflection.
   [] R8 не видит прямых ссылок на классы, вызываемые через Reflection, и может удалить их как неиспользуемые или переименовать (обфусцировать). Исправить это 
      можно, добавив правило `-keep` в файл `proguard-rules.pro`.
   [] R8 удаляет все строковые константы из кода для экономии места, поэтому имя класса просто исчезает. Нужно включить флаг `isShrinkStrings = false`.

5. Какая практика хранения ключей подписи (Keystore) для релизных сборок является правильной с точки зрения безопасности?
   [] Ключи нужно хранить в корне проекта и коммитить в Git, чтобы любой член команды мог собрать релизную версию на своем компьютере.
   [] Ключи и пароли нельзя хранить в системе контроля версий (Git). Их следует выносить в отдельные файлы (например, local.properties) или переменные окружения, 
      добавленные в `.gitignore`.
   [] Ключи нужно вшивать прямо в код `build.gradle.kts` в открытом виде, так как Gradle автоматически шифрует их при сборке.
